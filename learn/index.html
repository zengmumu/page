<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>前端面试宝典</title>
    <link rel="stylesheet" type="text/css" href="./css/api.css" />
   
    <style type="text/css">
   

    *{ margin: 0; padding: 0;-webkit-box-sizing:border-box; box-sizing:border-box;}
    html,body{
                    
                    max-width:900px;
                    margin-left: auto;
                    margin-right: auto;
                    /*background-color: #f5f5f5;*/
            
                }
   
 
.gallery{  height: 140px; width: 100%;overflow: hidden;  position: relative; }
.gallery a{     
    position: absolute;
    display: block;
    height: 140px;
    overflow: hidden;   
  
}

.row{ display: flex; }
.col{flex:1;}
.hot a{ padding: 15px; font-size: 10px;text-align: center ;}
.hot a img{ width: 60%; }
.hot a span{ display: block; }
h5{ line-height: 38px; padding:0 15px; font-size: 14px; color: #484848; }
.list .item{
    display: block;
    height: 43px;
    line-height: 43px;
    border-bottom: 1px solid #f5f5f5;
    padding: 0 15px;
    clear:both;
    font-size: 10px;
    color:#777;
    position: relative;
}
.list .item:after{
    content: "";
    display: inline-block;
    height: 10px;
    width: 10px;
    border-top:1px solid #ddd;
    border-right: 1px solid #ddd;
    position: absolute;
    right: 15px;
    top:15px;
    transform: rotate(45deg);
}
.list img{
   width: 24px;
   height: 24px; 
   margin-right: 15px;
   vertical-align: middle;
   
}
.mt15{margin-top: 15px;}

 </style>
</head>
<body>

    <!-- <div class="banner">
    <h1>前 端 技 术</h1>
    <p class="text-primary">前端面试宝典</p>
    <p class="small">HTML<span class="gray"> & </span>CSS<span class="gray"> & </span>JS</p>
    </div> -->
   <div class="gallery">
       
   </div>
   <h5>面试技能</h5>
   <div class="row hot">
       
   </div>
   <h5 class="mt15">热门面试题</h5>
   <div class="list">
       

   </div>
   
  
</body>
<script type="text/javascript" src="./script/api.js"></script>
<script src="script/jquery-1.11.3.min.js">
</script>
<script>
    function gallery(){

    }
    
   $(function(){
    $.ajax({
        url:'/start/min_flag.php',
        success:function(res){
            var str ='';
            for(var i=0;i<res.gallery.length;i++){
                str+=`<a href="/it/#/queclass/${res.gallery[i].id}/${res.gallery[i].typename}">
                    <img width="100%"  src="${res.gallery[i].typeimg}">
                </a>`
            }
            $(".gallery").html(str);
            var num = res.gallery.length;
            var current = 0;
            setInterval(function(){
                current++;
                if(current>=num){current=0}
                    console.log(current);
                $(".gallery a:visible").fadeOut(200);   
                $(".gallery a:eq("+current+")").fadeIn(400);
            },4000)
            // gallery
            var hot = ''
            for(var i=0;i<res.hot.length;i++){
                 hot+=`<a class="col" href="/it/#/queclass/${res.hot[i].id}/${res.hot[i].typename}">
                    <img width="100%"  src="${res.hot[i].typeimg}">
                    <span>${res.hot[i].typename}</span>
                </a>`
            }
            $(".hot").html(hot);
        }
    })
    $.ajax({
        url:'/start/getChapter.php?type=337',
        success:function(res){
            console.log(res);
            var list = ''
            for(var i=0;i<res.length;i++){
                 list+=`<a class="item" href="/it/#/queclass/${res[i].id}/${res[i].typename}">
                    <img width="100%" class="lazy" data-src="${res[i].typeimg}">
                    <span>${res[i].typename}</span>
                </a>`
            }
            $(".list").html(list);
             $('img.lazy').each(function () {             
            var ot = this.getBoundingClientRect().top;
            var h = $(window).height();
               
            if(ot<h){
                $(this).attr('src',$(this).attr('data-src'));  
                $(this).removeClass("lazy");
            }
                
            
        });
        }
    })
  

    $(window).on('scroll',function(){       //添加屏幕滚动事件
        $('img.lazy').each(function () {             
            var ot = this.getBoundingClientRect().top;
            var h = $(window).height();
               
            if(ot<h){
                $(this).attr('src',$(this).attr('data-src'));  
            }
                
            
        });
    });
}) 
</script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?87df5307a789af37c71ef8632050fd04";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</html>

