  <!DOCTYPE html>
  <html lang="zh-CN">
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
   		<title>{dede:field.title/}_{dede:global.cfg_webname/}</title>
   		<meta name="referrer" content="never">
			<meta name="keywords" content="{dede:field.keywords/}" />
			<meta name="description" content="{dede:field.description function='adds(@me)'/}" />
    <link href="/templets/default/css/bootstrap.min.css" rel="stylesheet">
			<link href="{dede:global.cfg_templets_skin/}/css/style.css" rel="stylesheet">
<script src="{dede:global.cfg_cmsurl/}/m/assets/js/jquery.min.js"></script>
  	
      <!--[if lt IE 9]>
        <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->
  </head>
  <body class="tutor" style="padding-top: 0;">

  {dede:include filename="head2.htm"/}
	<!--课程-->
	<div class="">
  	<div class="container">
			<div class="text-small position hidden-xs" style="margin:0; padding-left:2em; padding-top:1em; font-size:1em;">
			  {dede:field name='position'/}
      </div><!-- /place -->
			<!--coursemain-->
			<div class="coursemain container clearfix row">
  			<div class="c-bg col-md-9 p0 col-md-push-3">
  				
  				{dede:field name='litpic' function='bigimg(@me)'/}
 					<div id="single-product-bar">{dede:field.officialurl function='checkBtnDown(@me)'/}{dede:field.officialdemo  function='checkBtnDemo(@me)'/}</div>
					<div  class="tutorial">  
 					<div class="date">{dede:field.pubdate function="GetDateMk('@me')"/} | <span class="qkt-click" ></span></div>
 					<h1><span class="ttip"></span>{dede:field.title/}</h1>
 					<div class="arc subtitlep form-inline">
 						<div class="subtitle">
 							{dede:field.subtitle/}
 						</div>
 						
 					</div>
 					<div class="padding checkAnswerp">
 						<button class="btn btn-primary checkAnswer">检查</button>
 					</div>
 					<style>

 					</style>
 					<div class="options">
 						<div class="answer-option" >
 							<i class="op-xu">A</i>
 							<span class="op-content">
 							{dede:field.optiona/}	
 							</span>
 							
 						</div>
 						<div class="answer-option">
 							<i class="op-xu">B</i>
 							<span class="op-content">
 								{dede:field.optionb/}
 							</span>
 							
 						</div>
 						<div class="answer-option">
 							<i class="op-xu">C</i>
 							<span class="op-content">
 								{dede:field.optionc/}
 							</span>
 							
 						</div>
 						<div class="answer-option">
 							<i class="op-xu">D</i>
 							<span class="op-content">
 								{dede:field.optiond/}
 							</span>
 							
 						</div>
 					</div>
 					<div class="padding  showAnswerp">
 						<button class="btn btn-primary showAnswer">检查答案</button>
 					</div>
 					
 					<div class="answer">
 						<strong>答案:</strong>
 						<div class="answerCon">
 							{dede:field.answer/}
 						</div>
 						
 					</div>

 					<div class="arc ansDesp">
 						<strong>解释:</strong>
 						<div class="ansDes">
 							{dede:field.body/}
 						</div>
 						
 					</div>
 				
 					</div> 
					<div class="plus text-center">
						<p id="newdigg"  class="digg_good icon icon_good"  onclick="javascript:postDigg('good',{dede:field.id/})">
							<em class="digg_num">{dede:field.goodpost/}</em>
						</p>
						<ul class="prenext clearfix">
						     <li class="pre">{dede:prenext get='pre'/}</li>
						     <li class="next">{dede:prenext get='next'/}</li>
						</ul>
						<div class="course_chapter_list">
						</div><!--内容列表-->
  				</div><!--左边主体内容-->
   				
  				
				</div><!---coursemain ed-->
   			<div class="col-md-3 col-md-pull-9">
   				 

				{dede:channelartlist type='reid' orderby}
				<div class="panel panel-default {dede:field name='currentstyle' /}" >
  					<div class="panel-heading ">
  						
					{dede:field name='typename'/}</div>
  					<div class="panel-body">
  						<ul class="list-unstyled">
					       {dede:arclist titlelen='40'  currentstyle="on" row="100" orderby="id" orderway="asc" }
					       <li class="[field:currentstyle/]"><a href="[field:arcurl/]" class="am-list-item-hd">[field:title/]</a></li>
					  
					       {/dede:arclist}
				     </ul>
  					</div>
   				</div>
				{/dede:channelartlist}
   				
				 
   				
   				
   				
   				
   				
			</div><!--container ed-->
			<div class="col-md-9 col-md-push-3 bg">
				<div class="coment">
  					<h3 class="title"><span>发表评论</span></h3>
 					<div id="course_note" class="p10">
	       				<ul class="commentcon">
	         				{dede:include file='ajaxfeedback5.htm' /} 

	      				</ul>
      				</div>
 				</div>  <!--评论列表-->
			</div>
		</div><!--courseed-->
  <!--课程-->
   {dede:include filename="footer.htm"/}
<script>
		function postBadGood(ftype, fid) {
	var taget_obj=document.getElementById(ftype + fid);
	var saveid=GetCookie('badgoodid');
	if(saveid !=null) {
		var saveids=saveid.split(',');
		var hasid=false;
		saveid='';
		j=1;
		for(i=saveids.length - 1;
		i >=0;
		i--) {
			if(saveids[i]==fid && hasid) continue;
			else {
				if(saveids[i]==fid && !hasid) hasid=true;
				saveid+=(saveid=='' ? saveids[i]: ',' + saveids[i]);
				j++;
				if(j==10 && hasid) break;
				if(j==9 && !hasid) break;
			}
		}
		if(hasid) {
			alert('您刚才已表决过了喔！');
			return false;
		}
		else saveid+=','+fid;
		SetCookie('badgoodid', saveid, 1);
	}
	else {
		SetCookie('badgoodid', fid, 1);
	}
	$.ajax({
		url:"{dede:field name='phpurl'/}/feedback.php?aid=" + fid + "&action=" + ftype + "&fid=" + fid,
		success:function(xhr){
			$("#"+ftype + fid).html(xhr);
		}
	})
}

function postDigg(ftype, aid) {
	var taget_obj=document.getElementById('newdigg');
	var saveid=GetCookie('diggid');
	if(saveid !=null) {
		var saveids=saveid.split(',');
		var hasid=false;
		saveid='';
		j=1;
		for(i=saveids.length - 1;
		i >=0;
		i--) {
			if(saveids[i]==aid && hasid) continue;
			else {
				if(saveids[i]==aid && !hasid) hasid=true;
				saveid+=(saveid=='' ? saveids[i]: ',' + saveids[i]);
				j++;
				if(j==20 && hasid) break;
				if(j==19 && !hasid) break;
			}
		}
		if(hasid) {
			alert("您已经顶过该帖，请不要重复顶帖 ！");
			return;
		}
		else saveid+=','+aid;
		SetCookie('diggid', saveid, 1);
	}
	else {
		SetCookie('diggid', aid, 1);
	}
	// myajax=new DedeAjax(taget_obj, false, false, '', '', '');
	var url="{dede:global.cfg_phpurl/}/digg_ajax.php?action="+ftype+"&id="+aid;
	// myajax.SendGet2(url);
	$.ajax({
		url:url,
		success:function(xhr){
			$("#newdigg").html(xhr);
		}
	})
}

function getDigg(aid) {
	var taget_obj=document.getElementById('newdigg');
	// myajax=new DedeAjax(taget_obj, false, false, '', '', '');
	// myajax.SendGet2("{dede:global.cfg_phpurl/}/digg_ajax.php?id=" + aid);
	$.ajax({
		url:"{dede:global.cfg_phpurl/}/digg_ajax.php?id=" + aid,
		success:function(res){
			console.log(res)
			taget_obj.innerHTML=res;
		}

		 
	})
	// DedeXHTTP=null;
}
 
$(function() {
	$(".panel-heading").click(function(){
		// $(this).next(".panel-body").toggle();
		var $pa = $(this).parent();
		$pa.toggleClass("panel-blue")
		if($pa.hasClass("current")){$pa.removeClass("current")}
	})
	$.ajax({
		url:"{dede:field name='phpurl'/}/count2.php?view=yes&aid={dede:field name='id'/}&mid={dede:field name='mid'/}",
		success:function(xhr){
			$(".qkt-click").text(xhr);
		}
	})
    getDigg({dede:field.id/});
    if($(".highlight")){
	    $("<link>")
		.attr({ rel: "stylesheet",
		type: "text/css",
		href: "/templets/default/css/primer.css"
		})
		.appendTo("head");

    }
    var type={dede:field.type/};
    
 	if($(".ansDes").html().trim()==""){
 		$(".ansDesp").hide();
 	}
 	if($(".subtitle").html().trim()==""){
 		$(".subtitlep").hide();
 	}
 	$(".ansDesp").hide();
 	$(".checkAnswerp").hide();
	$(".options").hide();
	$(".answer").hide();
	var answer = $(".answerCon").html().trim();
    if(type==1){
    	$(".ttip").html('<span class="tip">单选</span>');
    	$(".showAnswer").click(function(){
    		$(".answer").show();
    		if($(".ansDes").html().trim()!=""){
    			$(".ansDesp").show();
    		}
    		

    	})

    	 $(".answer-option").click(function(){
    	 
    	 	$(".answer-option.selected").removeClass("selected");
    	 	$(this).toggleClass("selected");
    	 	if($(this).find("i").text()==answer){
    	 		$(".answer").show();
    			if($(".ansDes").html().trim()!=""){
    			$(".ansDesp").show();
    			}
    		
    	 	}
    	 })
    	
    } 
    if(type==4){
    	$(".ttip").html('<span class="tip">问答</span>');
    	$(".answer").show();
    	$(".checkAnswerp").hide();
    	$(".options").hide();
    	$(".showAnswerp").hide();
    	if($(".ansDes").html().trim()!=""){
    			$(".ansDesp").show();
    	}

    }
    if(type==1){
    	 $(".showAnswerp").show();
    	 $(".options").show();
    }

    if(type==3){
    	$(".ttip").html('<span class="tip">填空</span>');
    	  $(".checkAnswerp").show();
    	$(".answer").hide();
    	$(".ansDesp").hide();
    	$(".showAnswerp").hide();
    	
    	answer = answer.split(",");
    	var str = $(".subtitle").html();
    	for(var i=0;i<answer.length;i++){
    		str = str.replace("[space]",`<input class="form-control myfrom_a" type="text" style="width:${answer[i].length*24}px" ng-keyup="keyup(question,1,0)"  maxlength="${answer[i].length}" size="${answer[i].length}">`)
    	}
    	$(".subtitle").html(str);
    	$(".checkAnswer").click(function(){
    		var str = [];
    		$(".myfrom_a").each(function(index,item){
    			str.push($(item).val());
    		})
    		if(str.join(",")==answer){
    			// alert("回答正确");
    		}else{
    			alert("回答错误")
    		}
    	$(".answer").show();
    	if($(".ansDes").html().trim()!=""){
    			$(".ansDesp").show();
    		}
    		

    	})

    }
   
    if(type==2){
    	$(".ttip").html('<span class="tip">多选</span>');
    	$(".showAnswerp").show();
    	$(".options").show();
    	$(".answer").hide();
    	answer=answer.split(",");
    	var userAnser=[];
    	$(".answer-option").click(function(){    	 
    	 	if($(this).hasClass("selected")){
    	 		$(this).removeClass("selected");
    	 		var str = $(this).find("i").text();
    	 		var ind = userAnser.indexOf(str);
    	 		if(ind!=-1){
    	 			userAnser.splice(ind,1);
    	 		}
    	 	}else{
    	 		$(this).addClass("selected");
    	 		var str = $(this).find("i").text();
    	 		 userAnser.push(str);
    	 	}    	 	
    	 	
    	 })
    	$(".showAnswer").click(function(){
    		if(userAnser.sort().join(",")==answer.sort().join()){
    			// alert("回答正确");
    		}else{
    			alert("回答错误");
    		}
    		$(".answer").show();
    		if($(".ansDes").html().trim()!=""){
    			$(".ansDesp").show();
    		}
    		
    	})
    }
   
    $(".op-content").each(function(index,item){
    	console.log();
    	var candel=true;
    	if($(item).html().trim()==""){
    		$(item).parent().remove();
    	}else{
    		candel=false;
    	}
    	if(candel){
    		$(".options").remove();
    	}
    })
    


	
}) 
</script>
<script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="/it/sh/shCore.js"></script>
<script src="/it/sh/shAutoloader.js"></script>
<link rel="stylesheet" href="/it/sh/shCoreDefault.css">

<script>
		function path(){
    var args = arguments,
        result = [];
    for(var i = 0; i < args.length; i++)
        result.push(args[i].replace('@', '/it/sh/'));//请替换成自己项目中SyntaxHighlighter的具体路径
    return result
	};
 			SyntaxHighlighter.autoloader.apply(null, path(
'applescript        @shBrushAppleScript.js',
'actionscript3 as3      @shBrushAS3.js',
'bash shell     @shBrushBash.js',
'coldfusion cf      @shBrushColdFusion.js',
'cpp c          @shBrushCpp.js',
'c# c-sharp csharp      @shBrushCSharp.js',
'css            @shBrushCss.js',
'delphi pascal      @shBrushDelphi.js',
'diff patch pas     @shBrushDiff.js',
'erl erlang     @shBrushErlang.js',
'groovy         @shBrushGroovy.js',
'java           @shBrushJava.js',
'jfx javafx     @shBrushJavaFX.js',
'js jscript javascript  @shBrushJScript.js',
'perl pl            @shBrushPerl.js',
'php            @shBrushPhp.js',
'text plain     @shBrushPlain.js',
'py python          @shBrushPython.js',
'ruby rails ror rb      @shBrushRuby.js',
'sass scss          @shBrushSass.js',
'scala          @shBrushScala.js',
'sql            @shBrushSql.js',
'vb vbnet           @shBrushVb.js',
'xml xhtml xslt html        @shBrushXml.js'
));

setTimeout(function(){SyntaxHighlighter.highlight()},300) 
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?77857c56c6ef2fafe2a2135178b8d24f";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


  </body>
</html>